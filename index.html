<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>RPG-PC3</title>
  <style>
    body {
      font-family: monospace, sans-serif;
      background: linear-gradient(135deg, #0b0b1a, #1c1c3a);
      color: #f5f5f5;
      text-align: center;
      margin: 0;
      padding: 0;
    }
    #game, #menu { display: none; }
    .btn {
      background: #444;
      color: white;
      border: none;
      padding: 18px 40px;
      margin: 8px;
      cursor: pointer;
      border-radius: 10px;
      font-size: 18px;
      transition: background 0.2s, transform 0.1s;
    }
    .btn:hover { background: #666; transform: scale(1.05); }
    pre {
      text-align: left;
      background: #111;
      padding: 10px;
      max-height: 320px;
      overflow-y: auto;
      border-radius: 5px;
      width: 90%;
      margin: auto;
    }
  </style>
</head>
<body>
  <h1>ğŸ”¥ RPG-PC3 ğŸ”¥</h1>
  <div id="start">
    <button class="btn" onclick="novoJogo()">ğŸ® Iniciar Novo Jogo</button>
    <button class="btn" onclick="carregarJogo()">ğŸ’¾ Carregar Jogo</button>
  </div>

  <div id="menu">
    <h2 id="status"></h2>
    <button class="btn" onclick="explorar()">âš”ï¸ Explorar</button>
    <button class="btn" onclick="viajar()">ğŸ—ºï¸ Viajar</button>
    <button class="btn" onclick="ferreiro()">ğŸ”¨ Ferreiro</button>
    <button class="btn" onclick="mostrarInventario()">ğŸ’ InventÃ¡rio</button>
    <button class="btn" onclick="mostrarStatus()">ğŸ“Š Status</button>
    <button class="btn" onclick="equiparItem()">ğŸ§¤ Equipar Item</button>
    <button class="btn" onclick="salvar()">ğŸ’¾ Salvar</button>
    <button class="btn" onclick="resgatarCodigo()">ğŸ Resgatar CÃ³digo</button>
    <button class="btn" onclick="sair()">ğŸšª Sair</button>
    <pre id="log"></pre>
  </div>

<script>
class Player {
  constructor(nome, classe, hp, mp, atk) {
    this.nome = nome;
    this.classe = classe;
    this.max_hp = hp;
    this.hp = hp;
    this.max_mp = mp;
    this.mp = mp;
    this.atk = atk;
    this.exp = 0;
    this.lvl = 1;
    this.gold = 0;
    this.inventario = [];
    this.arma = null;
    this.armadura = null;
    this.acessorio = null;
    this.defesa = 0;
    this.bioma = "Nevado";
  }
  addItem(item) {
    this.inventario.push(item);
    log(`ğŸ VocÃª recebeu: ${item.nome} (${item.raridade})`);
  }
  heal() {
    if (this.mp >= 10) {
      let cura = rand(20,50);
      this.hp = Math.min(this.max_hp, this.hp + cura);
      this.mp -= 10;
      log(`ğŸ· ${this.nome} recuperou ${cura} HP!`);
    } else log("âš ï¸ MP insuficiente!");
  }
  attack(enemy) {
    let dano = rand(this.atk-2,this.atk+5);
    dano -= enemy.defesa || 0;
    dano = Math.max(1,dano);
    enemy.hp -= dano;
    log(`âš”ï¸ ${this.nome} causou ${dano} em ${enemy.name}`);
  }
  ganharExp(qtd) {
    this.exp += qtd;
    while (this.exp >= this.lvl*100) {
      this.exp -= this.lvl*100;
      this.lvl++;
      this.max_hp += 20;
      this.atk += 5;
      this.hp = this.max_hp;
      log(`â­ ${this.nome} subiu para o nÃ­vel ${this.lvl}!`);
    }
  }
}

class Enemy {
  constructor(name,hp,atk,gold,exp,boss=false,drops=[]) {
    this.name=name;this.hp=hp;this.atk=atk;this.gold=gold;
    this.exp=exp;this.boss=boss;this.drops=drops;
  }
  attack(player){
    let dano = rand(this.atk-3,this.atk+5);
    dano = Math.max(1,dano - player.defesa);
    player.hp -= dano;
    log(`ğŸ’¢ ${this.name} causou ${dano} em ${player.nome}`);
  }
}

let player=null;
let biomas = {
  "Nevado":[
    new Enemy("Lobo de Gelo",60,10,40,40,false),
    new Enemy("Yeti",100,15,80,60,false),
    new Enemy("DragÃ£o de Gelo",200,25,150,200,true),
    // Inimigos de elite
    new Enemy("Senhor das Neves",300,35,250,350,true),
    new Enemy("Urso Congelado",400,40,300,400,true),
    new Enemy("GuardiÃ£o Ãrtico",500,50,500,600,true)
  ],
  "Floresta":[
    new Enemy("Slime Verde",30,5,10,20,false),
    new Enemy("Goblin",50,8,20,30,false),
    new Enemy("Ent",120,18,100,150,true),
    new Enemy("Rei Goblin",250,30,300,400,true),
    new Enemy("EspÃ­rito da Floresta",300,35,350,500,true),
    new Enemy("DragÃ£o Verde",450,45,600,800,true)
  ],
  "Deserto":[
    new Enemy("EscorpiÃ£o",40,9,20,30,false),
    new Enemy("MÃºmia",90,14,70,60,false),
    new Enemy("GuardiÃ£o de Areia",160,22,130,200,true),
    new Enemy("FaraÃ³ das Dunas",300,35,400,500,true),
    new Enemy("Golem de Areia",400,40,450,600,true),
    new Enemy("Verme Gigante",600,50,700,900,true)
  ],
  "Lava":[
    new Enemy("Salamandra",50,12,25,40,false),
    new Enemy("DemÃ´nio do Fogo",120,18,100,80,false),
    new Enemy("TitÃ£ de Magma",250,30,200,300,true),
    new Enemy("Rei das Chamas",400,45,500,700,true),
    new Enemy("DragÃ£o VulcÃ¢nico",550,55,700,900,true),
    new Enemy("Senhor do Inferno",800,70,1000,1200,true)
  ]
};

function novoJogo(){
  let nome = prompt("Digite o nome do seu herÃ³i:");
  let esc = prompt("Escolha classe:\n1.Guerreiro (HP120/MP30/ATK15)\n2.Mago (HP80/MP80/ATK10)\n3.Arqueiro (HP100/MP50/ATK12)");
  if(esc==="1") player=new Player(nome,"Guerreiro",120,30,15);
  else if(esc==="2") player=new Player(nome,"Mago",80,80,10);
  else if(esc==="3") player=new Player(nome,"Arqueiro",100,50,12);
  else player=new Player(nome,"Aventureiro",100,40,10);

  document.getElementById("start").style.display="none";
  document.getElementById("menu").style.display="block";
  atualizarStatus();
}

function carregarJogo(){
  let data = localStorage.getItem("save");
  if(data){
    player = Object.assign(new Player(), JSON.parse(data));
    document.getElementById("start").style.display="none";
    document.getElementById("menu").style.display="block";
    log("ğŸ’¾ Save carregado!");
    atualizarStatus();
  } else log("âŒ Nenhum save encontrado!");
}

function explorar(){
  if(Math.random()<0.3){abrirBau(player);return;}
  let lista = biomas[player.bioma];
  let e = lista[rand(0,lista.length-1)];
  batalha(e);
}

function batalha(enemy){
  log(`ğŸ”¥ ${enemy.name} apareceu no bioma ${player.bioma}!`);
  while(player.hp>0 && enemy.hp>0){
    let acao=prompt(`${player.nome} HP:${player.hp}/${player.max_hp} | ${enemy.name} HP:${enemy.hp}\n1.Atacar 2.Curar`);
    if(acao==="1") player.attack(enemy);
    else if(acao==="2") player.heal();
    if(enemy.hp>0) enemy.attack(player);
  }
  if(player.hp>0){
    log(`âœ… Derrotou ${enemy.name}`);
    player.gold+=enemy.gold;
    player.ganharExp(enemy.exp);
  }else{
    log("ğŸ’€ VocÃª foi derrotado...");
    player.hp=Math.floor(player.max_hp/2);
    log("â¤ï¸ VocÃª reviveu com 50% de HP!");
  }
  atualizarStatus();
}

function abrirBau(player){
  let raridades={"Comum":0.5,"Incomum":0.3,"Raro":0.15,"Ã‰pico":0.04,"LendÃ¡rio":0.01};
  let keys=Object.keys(raridades);
  let rar=keys[rand(0,keys.length-1)];
  log(`ğŸ“¦ VocÃª encontrou um baÃº ${rar}!`);
  let recomp={
    "Comum":{nome:"PoÃ§Ã£o de Vida",tipo:"consumÃ­vel",cura:30,raridade:"Comum"},
    "Incomum":{nome:"Espada Curta",tipo:"arma",atk:7,raridade:"Incomum"},
    "Raro":{nome:"Armadura de Ferro",tipo:"armadura",defesa:12,raridade:"Raro"},
    "Ã‰pico":{nome:"Amuleto da Sabedoria",tipo:"acessÃ³rio",hp_bonus:50,raridade:"Ã‰pico"},
    "LendÃ¡rio":{nome:"Excalibur",tipo:"arma",atk:50,raridade:"LendÃ¡rio"}
  };
  player.addItem(recomp[rar]);
}

function viajar(){
  let bioma = prompt("Escolha o bioma:\n1.Nevado\n2.Floresta\n3.Deserto\n4.Lava");
  let nomes=["Nevado","Floresta","Deserto","Lava"];
  if(bioma>="1" && bioma<="4"){player.bioma=nomes[parseInt(bioma)-1];log(`ğŸ—ºï¸ Viajou para o bioma ${player.bioma}!`);}
}

function ferreiro(){
  let esc=prompt("ğŸ”¨ Ferreiro:\n1.Aumentar Ataque\n2.Aumentar Defesa\n3.Aumentar HP\n(100 Gold cada)");
  if(player.gold<100){log("ğŸ’° Ouro insuficiente!");return;}
  player.gold-=100;
  if(esc==="1"){player.atk+=5;log("âš”ï¸ Ataque aumentado!");}
  else if(esc==="2"){player.defesa+=5;log("ğŸ›¡ Defesa aumentada!");}
  else if(esc==="3"){player.max_hp+=20;player.hp=player.max_hp;log("â¤ï¸ HP aumentado!");}
  atualizarStatus();
}

function mostrarInventario(){
  if(!player.inventario.length){log("ğŸ“¦ InventÃ¡rio vazio.");return;}
  log("ğŸ’ InventÃ¡rio:");
  player.inventario.forEach((i,n)=>log(`${n+1}. ${i.nome} (${i.raridade}) - ${i.tipo}`));
}

function mostrarStatus(){
  log(`ğŸ“Š ${player.nome} | Classe:${player.classe} | Lvl:${player.lvl}\nHP:${player.hp}/${player.max_hp} MP:${player.mp}/${player.max_mp}\nATK:${player.atk} DEF:${player.defesa}\nGold:${player.gold} EXP:${player.exp}/${player.lvl*100}\nBioma:${player.bioma}`);
}

function equiparItem(){
  if(!player.inventario.length){log("ğŸ“¦ InventÃ¡rio vazio.");return;}
  let escolha=prompt("Digite nÃºmero do item:");
  let idx=parseInt(escolha)-1;
  if(idx>=0 && idx<player.inventario.length){
    let item=player.inventario[idx];
    if(item.tipo==="arma"){player.arma=item;player.atk+=item.atk;}
    else if(item.tipo==="armadura"){player.armadura=item;player.defesa+=item.defesa;}
    else if(item.tipo==="acessÃ³rio"){player.acessorio=item;player.max_hp+=item.hp_bonus;}
    log(`âœ… Equipou ${item.nome}`);
  }
}

function salvar(){
  localStorage.setItem("save",JSON.stringify(player));
  log("ğŸ’¾ Jogo salvo!");
}

function resgatarCodigo(){
  let c=prompt("Digite cÃ³digo secreto:").toLowerCase();
  if(c==="admcode"){player.classe="ADM";player.max_hp=999;player.max_mp=999;player.atk=999;player.hp=player.max_hp;player.mp=player.max_mp;log("ğŸ‘‘ Classe ADM Suprema!");}
  else if(c==="admitem"){player.addItem({nome:"Cetro Supremo ADM",tipo:"arma",atk:500,raridade:"ğŸ‘‘Exclusivo"});}
  else if(c==="gptcode"){player.classe="ChatGPT";player.max_hp=1e9;player.max_mp=1e9;player.atk=1e9;player.hp=player.max_hp;player.mp=player.max_mp;log("ğŸ¤– Classe ChatGPT Suprema!");}
  else if(c==="gold1000"){player.gold+=1000;log("ğŸ’° Recebeu 1000 Gold!");}
  else if(c==="xpboost"){player.ganharExp(500);log("âš¡ Recebeu 500 EXP!");}
  else if(c==="xp1m"){player.ganharExp(1000000);log("ğŸ”¥ Recebeu 1.000.000 EXP!");}
  else if(c==="healpack"){player.addItem({nome:"PoÃ§Ã£o Suprema",tipo:"consumÃ­vel",cura:500,raridade:"Ã‰pico"});}
  else if(c==="legendarybox"){player.addItem({nome:"Espada do DragÃ£o",tipo:"arma",atk:200,raridade:"LendÃ¡rio"});}
  else if(c==="tankmode"){player.max_hp+=1000;player.hp=player.max_hp;player.defesa+=100;log("ğŸ›¡ Tank Mode ativado!");}
  else if(c==="archangel"){player.addItem({nome:"Asas do Arcanjo",tipo:"acessÃ³rio",hp_bonus:500,raridade:"Ã‰pico"});}
  else if(c==="shadow"){player.addItem({nome:"Armadura das Sombras",tipo:"armadura",defesa:150,raridade:"LendÃ¡rio"});}
  else log("âŒ CÃ³digo invÃ¡lido!");
}

function sair(){log("ğŸ‘‹ AtÃ© a prÃ³xima!");location.reload();}
function atualizarStatus(){document.getElementById("status").innerText=`${player.nome} (Lvl ${player.lvl}) | HP:${player.hp}/${player.max_hp} | Gold:${player.gold} | ğŸŒ ${player.bioma}`;}
function log(txt){let logBox=document.getElementById("log");logBox.innerText+=txt+"\n";logBox.scrollTop=logBox.scrollHeight;}
function rand(min,max){return Math.floor(Math.random()*(max-min+1))+min;}
</script>
</body>
</html>
